<html>

<head>
    <title>Articles | CyberCrew</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./files/style.css" type="text/css">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
    <meta name="og:title" content="CyberCrew">
    <meta name="og:description" content="CyberCrew is the I.T. Club of DPS Srinagar.">
    <meta name="og:image" content="./files/assets/CyberCrew.png">
    <script>
        if (window.location.hash.length < 1) {
            window.location.assign(window.location.href + "#1");
        }
    </script>
</head>

<body>
    <script src="./files/deps/three.min.js"></script>
    <script src="./files/deps/jquery.min.js"></script>
    <script src="./files/deps/typed.min.js"></script>
    <script src="./files/script.js"></script>
    <div class="headerContainer">
        <div class="btnContainer">
            <button class="headerBtn" onclick="window.location.assign('./index.html')">Home</button>
        </div>
        <div class="btnContainer">
            <button class="headerBtn" onclick="window.location.assign('./about.html')">About</button>
        </div>
        <div class="btnContainer">
            <button class="headerBtn" onclick="window.location.assign('./robotics.html')">Robotics</button>
        </div>
    </div>
    <div class="artContentContainer">
        <div id="articles" class="articles" style="opacity: 1.0; top:1;">
            <div class="headingContainer">
                <h1 class="articlesHead">Articles</h1>
                <button class="backBtn" id="backBtn" style="display:none;">Back</button> <input class="searchBar" type="text" placeholder="Search..."> <button id="searchBtn"
                    class="searchBtn">Go</button>
                <script>
                    document.getElementById("searchBtn").onclick = function () {
                        document.getElementById("cols").innerHTML = ""
                        document.getElementById("backBtn").style.display = "inline";
                        document.getElementsByClassName("searchBar")[0].style.borderRadius = "0px";
                        document.getElementById("backBtn").onclick = function () {
                            window.location.assign("./articles.html")
                        }
                        let search = document.getElementsByClassName("searchBar")[0].value;
                        let data;
                        fetch('https://backend-xsfm.onrender.com/articles')
                            .then(res => res.json())
                            .then((res) => {
                                data = res.articles;
                                for (var art of data) {
                                    if (art.title.toLowerCase().includes(search.toLowerCase())) {
                                        let artColDiv = document.createElement("div");
                                        artColDiv.setAttribute('onclick', `window.location.assign('./articlePage.html#'+"${art.title.split(' ').join('')}")`)
                                        artColDiv.id = "artColDiv"
                                        artColDiv.className = "artCol"
                                        artColDiv.innerHTML = `<img id="img1" src="${art.imgUrl}">
                                                       <h1 id="title1" style="text-align:center;">${art.title}</h1>`;
                                        document.getElementById("cols").appendChild(artColDiv);
                                    }
                                }
                                if (document.getElementById("cols").children.length === 0) {
                                    document.getElementById("cols").innerHTML = "No Results Found"
                                }
                            })
                    }
                </script>
            </div>
            <div class="artColumns" id="cols">
                <script>
                    function getElement(id) {
                        return document.getElementById(id);
                    }
                    let data
                    fetch('https://backend-xsfm.onrender.com/articles')
                        .then(res => res.json())
                        .then((res) => {
                            data = res.articles;
                            for (var art of data) {
                                let artColDiv = document.createElement("div");
                                artColDiv.setAttribute('onclick', `window.location.assign('./articlePage.html#'+"${art.title.split(' ').join('')}")`)
                                artColDiv.id = "artColDiv"
                                artColDiv.className = "artCol"
                                artColDiv.innerHTML = `<img id="img1" src="${art.imgUrl}">
                                                       <h1 id="title1" style="text-align:center;">${art.title}</h1>`;
                                document.getElementById("cols").appendChild(artColDiv);
                            }
                        })
                </script>
            </div>
        </div>
        <div class="footer">
            <div class="buttons">
                <button class="button"><img src="./files/assets/facebook.png"></button>
                <button class="button"><img class="twbtn" src="./files/assets/twitter.png"></button>
                <button class="button" onclick="window.open('http://github.com/cybercrew')"><img class="githubbtn"
                        src="./files/assets/github.png"></button>
            </div>
            <div class="schoolWeb" onclick="window.open('http://dpssrinagar.com')">
                <div class="visitSchool">
                    <img src="./files/assets/dpslogo.png">
                    <p>Visit School Website</p>
                </div>
            </div>
            <div class="contactInfo">
                <h1>Contact Us</h1>
                <br>
                <p>Phone: +91-69420d</p>
                <p>Email: example@dpssrinagar.com</p>
            </div>
        </div>
    </div>
</body>

</html>
